{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\zmais\\\\OneDrive\\\\Desktop\\\\react-apps\\\\signal-chat\\\\components\\\\Stories.js\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Container, Content, Icon, Thumbnail, Header, Left, Right, Body } from 'native-base';\nimport { auth, db } from \"../services/firebase\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nexport default function Stories(_ref) {\n  var userFollowing = _ref.userFollowing,\n      navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      profiles = _useState2[0],\n      setProfiles = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = function unsubscribe() {\n      userFollowing.forEach(function (_ref2) {\n        var data = _ref2.data,\n            id = _ref2.id;\n        db.collection(\"users\").doc(data.userId).get().then(function (doc) {\n          var userInfo = {\n            id: doc.id,\n            data: doc.data()\n          };\n\n          if (profiles.length < userFollowing.length) {\n            setProfiles(function (profiles) {\n              return [].concat(_toConsumableArray(profiles), [userInfo]);\n            });\n          }\n        });\n      });\n    };\n\n    return function () {\n      unsubscribe();\n    };\n  }, [userFollowing]);\n\n  function renderStories() {\n    var _this = this;\n\n    return profiles.map(function (_ref3) {\n      var id = _ref3.id,\n          data = _ref3.data;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"Story-Screen\", data.uid);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, React.createElement(Thumbnail, {\n        key: id,\n        style: {\n          marginHorizontal: 5,\n          borderColor: 'pink',\n          borderWidth: 2\n        },\n        source: {\n          uri: data.photoURL\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }));\n    });\n  }\n\n  return React.createElement(View, {\n    style: {\n      height: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingHorizontal: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, \"Stories\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      'alignItems': 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, React.createElement(Icon, {\n    name: \"md-play\",\n    style: {\n      fontSize: 14\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }, \" Watch All\"))), React.createElement(View, {\n    style: {\n      flex: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    contentContainerStyle: {\n      alignItems: 'center',\n      paddingStart: 5,\n      paddingEnd: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, renderStories())));\n}\nvar styles = StyleSheet.create({});","map":{"version":3,"sources":["C:/Users/zmais/OneDrive/Desktop/react-apps/signal-chat/components/Stories.js"],"names":["React","useEffect","useState","Container","Content","Icon","Thumbnail","Header","Left","Right","Body","auth","db","TouchableOpacity","Stories","userFollowing","navigation","profiles","setProfiles","unsubscribe","forEach","data","id","collection","doc","userId","get","then","userInfo","length","renderStories","map","navigate","uid","marginHorizontal","borderColor","borderWidth","uri","photoURL","height","flex","flexDirection","justifyContent","alignItems","paddingHorizontal","fontWeight","fontSize","paddingStart","paddingEnd","styles","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { StyleSheet, Text, View, ScrollView } from 'react-native'\r\nimport { Container, Content, Icon, Thumbnail, Header, Left, Right, Body } from 'native-base'\r\nimport { auth, db } from '../services/firebase'\r\nimport { TouchableOpacity } from 'react-native-gesture-handler'\r\n\r\nexport default function Stories({userFollowing, navigation}) {\r\n\r\n    const [profiles, setProfiles] = useState([])\r\n\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        \r\n        const unsubscribe = () => {\r\n            userFollowing.forEach(({data, id}) =>{\r\n\r\n                \r\n                db.collection(\"users\").doc(data.userId).get().then((doc) => {\r\n                    var userInfo = {id: doc.id, data: doc.data()}\r\n                    if (profiles.length < userFollowing.length){\r\n    \r\n                        setProfiles(profiles => [...profiles, userInfo])\r\n    \r\n                        \r\n                        \r\n                    } \r\n                    \r\n\r\n                })\r\n            })\r\n        }\r\n\r\n        return () => {\r\n            unsubscribe()\r\n        }\r\n    }, [userFollowing])\r\n\r\n   \r\n\r\n    \r\n\r\n    function renderStories(){\r\n        return (\r\n            profiles.map(({id, data}) => (\r\n                <TouchableOpacity onPress={() => navigation.navigate(\"Story-Screen\", data.uid)}>\r\n\r\n                \r\n                <Thumbnail\r\n                        key={id}\r\n                        style={{ marginHorizontal: 5, borderColor: 'pink', borderWidth: 2 }}\r\n                        source={{uri: data.photoURL}} />\r\n\r\n                </TouchableOpacity>\r\n\r\n            ))\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n            <View style={{ height: 100 }}>\r\n                    <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingHorizontal: 7 }}>\r\n                        <Text style={{ fontWeight: 'bold' }}>Stories</Text>\r\n\r\n                        <View style={{ flexDirection: 'row', 'alignItems': 'center' }}>\r\n                                <Icon name=\"md-play\" style={{ fontSize: 14 }}></Icon>\r\n                                <Text style={{ fontWeight: 'bold' }}> Watch All</Text>\r\n                        </View>\r\n                        </View>\r\n                        <View style={{ flex: 3 }}>\r\n                            <ScrollView\r\n                                horizontal={true}\r\n                                showsHorizontalScrollIndicator={false}\r\n                                contentContainerStyle={{\r\n                                    alignItems: 'center',\r\n                                    paddingStart: 5,\r\n                                    paddingEnd: 5\r\n                                }}\r\n\r\n                            >\r\n                                {renderStories()}\r\n\r\n                            </ScrollView>\r\n                        </View>\r\n                    </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({})\r\n"]},"metadata":{},"sourceType":"module"}