{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\zmais\\\\OneDrive\\\\Desktop\\\\react-apps\\\\signal-chat\\\\screens\\\\ProfileScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ListImage from \"../components/ListImage\";\nimport theme from \"../components/themes\";\nimport firebase from 'firebase';\nimport { Avatar } from 'react-native-elements';\n\nrequire('firebase/firestore');\n\nimport { auth, db } from \"../firebase\";\nimport { Container, Content, Icon, Header, Left, Body, Right, Segment, Button } from 'native-base';\nimport EntypoIcon from \"@expo/vector-icons/Entypo\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nexport default function Profile(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      userPosts = _useState2[0],\n      setUserPosts = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      following = _useState6[0],\n      setFollowing = _useState6[1];\n\n  var profile = props.route.params.currentUser;\n  useEffect(function () {\n    var currentUser = props.route.params.currentUser.uid;\n\n    if (currentUser == auth.currentUser.uid) {\n      setUser(profile);\n      db.collection('posts').doc(currentUser).collection('userPosts').orderBy('creation', 'desc').onSnapshot(function (snapshot) {\n        return setUserPosts(snapshot.docs.map(function (doc) {\n          return {\n            id: doc.id,\n            data: doc.data()\n          };\n        }));\n      });\n    } else {\n      db.collection(\"users\").doc(currentUser).get().then(function (snapshot) {\n        if (snapshot.exists) {\n          setUser(snapshot.data());\n        } else {\n          console.log('does not exist');\n        }\n      });\n      db.collection(\"posts\").doc(currentUser).collection(\"userPosts\").orderBy(\"creation\", 'desc').get().then(function (snapshot) {\n        var posts = snapshot.docs.map(function (doc) {\n          var data = doc.data();\n          var id = doc.id;\n          return _objectSpread({\n            id: id\n          }, data);\n        });\n        setUserPosts(posts);\n      });\n    }\n  }, []);\n\n  var onLogout = function onLogout() {\n    auth.signOut();\n  };\n\n  if (user === null) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 16\n      }\n    });\n  }\n\n  function renderPosts() {\n    var _this = this;\n\n    return userPosts.map(function (image, index) {\n      return React.createElement(View, {\n        key: index,\n        style: [{\n          width: width / 3\n        }, {\n          height: width / 3\n        }, {\n          marginBottom: 2\n        }, index % 3 !== 0 ? {\n          paddingLeft: 2\n        } : {\n          paddingLeft: 0\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          width: undefined,\n          height: undefined\n        },\n        source: {\n          uri: image.data.downloadURL\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }\n      }));\n    });\n  }\n\n  return React.createElement(Container, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'flex-start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: profile.photoURL\n    },\n    style: {\n      width: 75,\n      height: 75,\n      borderRadius: 37.5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      alignItems: 'flex-end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 41\n    }\n  }, userPosts.length), React.createElement(Text, {\n    style: {\n      fontSize: 10,\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 41\n    }\n  }, \"Posts\")), React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 41\n    }\n  }, \"205\"), React.createElement(Text, {\n    style: {\n      fontSize: 10,\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 41\n    }\n  }, \"Followers\")), React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 41\n    }\n  }, \"167\"), React.createElement(Text, {\n    style: {\n      fontSize: 10,\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 41\n    }\n  }, \"Following\"))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 37\n    }\n  }, React.createElement(Button, {\n    bordered: true,\n    dark: true,\n    style: {\n      flex: 3,\n      marginLeft: 10,\n      justifyContent: 'center',\n      height: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 119\n    }\n  }, \"Edit Profile\")), React.createElement(Button, {\n    bordered: true,\n    dark: true,\n    style: {\n      flex: 1,\n      height: 30,\n      marginRight: 10,\n      marginLeft: 5,\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, React.createElement(Icon, {\n    name: \"settings\",\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 45\n    }\n  })))))), React.createElement(View, {\n    style: {\n      paddingBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingHorizontal: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, user.displayName), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }, \"Yo whats up\"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 33\n    }\n  }, user.email)))), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      borderTopWidth: 1,\n      borderTopColor: '#eae5e5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, React.createElement(Button, {\n    transparent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, React.createElement(Icon, {\n    name: \"ios-apps-outline\",\n    style: {\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 33\n    }\n  })), React.createElement(Button, {\n    transparent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, React.createElement(Icon, {\n    name: \"ios-list-outline\",\n    style: {\n      fontSize: 32,\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 33\n    }\n  })), React.createElement(Button, {\n    transparent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  }, React.createElement(Icon, {\n    name: \"ios-bookmark-outline\",\n    style: {\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 33\n    }\n  })), React.createElement(Button, {\n    transparent: true,\n    last: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 29\n    }\n  }, React.createElement(Icon, {\n    name: \"ios-people-outline\",\n    style: {\n      fontSize: 32,\n      color: 'grey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 33\n    }\n  }))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      flexWrap: 'wrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 25\n    }\n  }, renderPosts()))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'white'\n  },\n  containerInfo: {\n    margin: 10,\n    marginTop: 0.1\n  },\n  containerGallery: {\n    flex: 1\n  },\n  containerImage: {\n    flex: 1 / 3\n  },\n  galleryContainer: {\n    alignItems: 'center',\n    marginBottom: theme.spacing.l\n  },\n  galleryText: _objectSpread(_objectSpread({}, theme.textVariants.body3), {}, {\n    color: theme.colors.gray\n  }),\n  galleryImage: {\n    height: theme.imageHeight.l,\n    width: theme.imageHeight.l,\n    margin: 2\n  }\n});","map":{"version":3,"sources":["C:/Users/zmais/OneDrive/Desktop/react-apps/signal-chat/screens/ProfileScreen.js"],"names":["React","useState","useEffect","ListImage","theme","firebase","Avatar","require","auth","db","Container","Content","Icon","Header","Left","Body","Right","Segment","Button","EntypoIcon","MaterialIcons","Dimensions","get","height","width","Profile","props","userPosts","setUserPosts","user","setUser","following","setFollowing","profile","route","params","currentUser","uid","collection","doc","orderBy","onSnapshot","snapshot","docs","map","id","data","then","exists","console","log","posts","onLogout","signOut","renderPosts","image","index","marginBottom","paddingLeft","flex","alignSelf","undefined","uri","downloadURL","styles","container","paddingTop","flexDirection","alignItems","justifyContent","photoURL","borderRadius","length","fontSize","color","marginLeft","marginRight","paddingBottom","paddingHorizontal","fontWeight","displayName","email","borderTopWidth","borderTopColor","flexWrap","StyleSheet","create","backgroundColor","containerInfo","margin","marginTop","containerGallery","containerImage","galleryContainer","spacing","l","galleryText","textVariants","body3","colors","gray","galleryImage","imageHeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {\r\n    View,\r\n    Text,\r\n    StyleSheet,\r\n    Image,\r\n    Dimensions,\r\n    FlatList,\r\n    TouchableOpacity,\r\n} from \"react-native\";\r\nimport ListImage from '../components/ListImage'\r\nimport theme from '../components/themes'\r\nimport firebase from 'firebase'\r\nimport {Avatar} from 'react-native-elements'\r\nrequire('firebase/firestore')\r\n\r\nimport { auth, db } from '../firebase'\r\n\r\nimport { Container, Content, Icon, Header, Left, Body, Right, Segment, Button } from 'native-base'\r\n\r\nimport EntypoIcon from 'react-native-vector-icons/Entypo';\r\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons'\r\nvar { height, width } = Dimensions.get('window');\r\n\r\n\r\n\r\nexport default function Profile(props) {\r\n    const [userPosts, setUserPosts] = useState([]);\r\n    const [user, setUser] = useState(\"\");\r\n    const [following, setFollowing] = useState(false)\r\n    const profile = props.route.params.currentUser\r\n    //const [profilePicture, setProfilePicture] = useState(\"\") \r\n\r\n    useEffect(() => {\r\n        \r\n        const  currentUser  = props.route.params.currentUser.uid\r\n\r\n\r\n\r\n    \r\n        if (currentUser  == auth.currentUser.uid) {\r\n            setUser(profile)\r\n            db.collection('posts')\r\n                      .doc(currentUser).collection('userPosts')\r\n                      .orderBy('creation', 'desc')\r\n                      .onSnapshot((snapshot) => setUserPosts(snapshot.docs.map(doc => ({\r\n                      id: doc.id,\r\n                      data: doc.data()\r\n            }))))\r\n\r\n        }\r\n        else {\r\n            db.collection(\"users\")\r\n                .doc(currentUser)\r\n                .get()\r\n                .then((snapshot) => {\r\n                    if (snapshot.exists) {\r\n                        setUser(snapshot.data());\r\n                    } \r\n                    else {\r\n                        console.log('does not exist')\r\n                    }\r\n                })\r\n            \r\n                db.collection(\"posts\")\r\n                .doc(currentUser)\r\n                .collection(\"userPosts\")\r\n                .orderBy(\"creation\", 'desc')\r\n                .get()\r\n                .then((snapshot) => {\r\n                    let posts = snapshot.docs.map(doc => {\r\n                        const data = doc.data();\r\n                        const id = doc.id;\r\n                        return { id, ...data }\r\n                    })\r\n                    setUserPosts(posts)\r\n                })\r\n        }\r\n\r\n        \r\n        \r\n\r\n    }, [])\r\n\r\n    \r\n\r\n    \r\n\r\n    const onLogout = () => {\r\n        auth.signOut();\r\n    }\r\n\r\n\r\n    if (user === null) {\r\n        return <View />\r\n    }\r\n\r\n\r\n    function renderPosts(){\r\n        return userPosts.map((image, index) => {\r\n            return (\r\n                <View key={index} style={[{ width: (width) / 3 }, { height: (width) / 3 }, { marginBottom: 2 }, index % 3 !== 0 ? { paddingLeft: 2 } : { paddingLeft: 0 }]}>\r\n                        <Image style={{\r\n                            flex: 1,\r\n                            alignSelf: 'stretch',\r\n                            width: undefined,\r\n                            height: undefined,\r\n\r\n                        }}\r\n                            source={{uri: image.data.downloadURL}}>\r\n                        </Image>\r\n\r\n                </View>\r\n            )\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Container style={styles.container}>\r\n                \r\n\r\n                <Content>\r\n\r\n                    <View style={{ paddingTop: 10 }}>\r\n\r\n                        {/** User Photo Stats**/}\r\n                        <View style={{ flexDirection: 'row' }}>\r\n\r\n                            {/**User photo takes 1/3rd of view horizontally **/}\r\n                            <View\r\n                                style={{ flex: 1, alignItems: 'center', justifyContent: 'flex-start' }}>\r\n                                <Image source={{uri: profile.photoURL}}\r\n                                    style={{ width: 75, height: 75, borderRadius: 37.5 }} />\r\n\r\n                            </View>\r\n\r\n                            {/**User Stats take 2/3rd of view horizontally **/}\r\n                            <View style={{ flex: 3 }}>\r\n\r\n                                {/** Stats **/}\r\n                                <View\r\n                                    style={{\r\n                                        flexDirection: 'row',\r\n                                        justifyContent: 'space-around',\r\n                                        alignItems: 'flex-end'\r\n                                    }}>\r\n                                    <View style={{ alignItems: 'center' }}>\r\n                                        <Text>{userPosts.length}</Text>\r\n                                        <Text style={{ fontSize: 10, color: 'grey' }}>Posts</Text>\r\n                                    </View>\r\n                                    <View style={{ alignItems: 'center' }}>\r\n                                        <Text>205</Text>\r\n                                        <Text style={{ fontSize: 10, color: 'grey' }}>Followers</Text>\r\n                                    </View>\r\n                                    <View style={{ alignItems: 'center' }}>\r\n                                        <Text>167</Text>\r\n                                        <Text style={{ fontSize: 10, color: 'grey' }}>Following</Text>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                {/**Edit profile and Settings Buttons **/}\r\n                                <View style={{ flexDirection: 'row', alignItems: 'flex-start', paddingTop: 10 }}>\r\n\r\n                                    <View\r\n                                        style={{ flexDirection: 'row' }}>\r\n\r\n                                        {/** Edit profile takes up 3/4th **/}\r\n                                        <Button bordered dark\r\n                                            style={{ flex: 3, marginLeft: 10, justifyContent: 'center', height: 30 }}><Text>Edit Profile</Text></Button>\r\n\r\n\r\n                                        {/** Settings takes up  1/4th place **/}\r\n                                        <Button bordered dark style={{\r\n                                            flex: 1,\r\n                                            height: 30,\r\n                                            marginRight: 10, marginLeft: 5,\r\n                                            justifyContent: 'center'\r\n                                        }}>\r\n                                            <Icon name=\"settings\" style={{ color: 'black' }}></Icon></Button>\r\n                                    </View>\r\n                                </View>{/**End edit profile**/}\r\n                            </View>\r\n                        </View>\r\n\r\n                        <View style={{ paddingBottom: 10 }}>\r\n                            <View style={{ paddingHorizontal: 10 }}>\r\n                                <Text style={{ fontWeight: 'bold' }}>{user.displayName}</Text>\r\n                                <Text>Yo whats up</Text>\r\n                                <Text>{user.email}</Text>\r\n                            </View>\r\n                        </View>\r\n\r\n\r\n                    </View>\r\n\r\n\r\n                    <View >\r\n                        <View style={{ flexDirection: 'row', justifyContent: 'space-around', borderTopWidth: 1, borderTopColor: '#eae5e5' }}>\r\n                            <Button\r\n\r\n                                \r\n                                transparent\r\n                               \r\n\r\n                            >\r\n                                <Icon name=\"ios-apps-outline\"\r\n                                    style={{ color: 'grey' }} >\r\n                                </Icon>\r\n                            </Button>\r\n                            <Button\r\n                                \r\n                                transparent >\r\n                                <Icon name=\"ios-list-outline\" style={{ fontSize: 32, color: 'grey' }}></Icon>\r\n                            </Button>\r\n                            <Button\r\n                                \r\n                                transparent >\r\n                                <Icon name=\"ios-bookmark-outline\" style={{ color: 'grey' }}></Icon>\r\n                            </Button>\r\n                            <Button\r\n                                \r\n                                transparent last >\r\n                                <Icon name=\"ios-people-outline\" style={{ fontSize: 32,  color: 'grey' }}></Icon>\r\n                            </Button>\r\n                        </View>\r\n\r\n\r\n\r\n                        {/** Height =width/3 so that image sizes vary according to size of the phone yet remain squares **/}\r\n\r\n                        \r\n                        <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\r\n                            {renderPosts()}\r\n                        </View>\r\n                       \r\n\r\n                    </View>\r\n                </Content>\r\n            </Container >\r\n\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: 'white'\r\n    },\r\n    \r\n    containerInfo: {\r\n        margin: 10,\r\n        marginTop: 0.1,\r\n    },\r\n    containerGallery: {\r\n        flex: 1\r\n    },\r\n    containerImage: {\r\n        flex: 1 / 3\r\n\r\n    },\r\n    \r\n\r\n    galleryContainer: {\r\n        alignItems: 'center',\r\n        marginBottom: theme.spacing.l,\r\n      },\r\n    galleryText: {\r\n        ...theme.textVariants.body3,\r\n        color: theme.colors.gray,\r\n      },\r\n    galleryImage: {\r\n        height: theme.imageHeight.l,\r\n        width: theme.imageHeight.l,\r\n        margin: 2,\r\n      }\r\n   \r\n})\r\n"]},"metadata":{},"sourceType":"module"}