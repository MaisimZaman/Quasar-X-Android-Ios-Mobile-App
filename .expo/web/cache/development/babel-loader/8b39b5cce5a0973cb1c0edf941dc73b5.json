{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\zmais\\\\OneDrive\\\\Desktop\\\\react-apps\\\\signal-chat\\\\screens\\\\Profile\\\\EditProfile.js\";\nimport React, { useState, useLayoutEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { StatusBar } from 'expo-status-bar';\nimport { Button, Input, Text } from 'react-native-elements';\nimport { auth, db } from \"../../services/firebase\";\nimport { Image } from 'react-native-elements';\nexport default function EditProfile(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(auth.currentUser.displayName),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(auth.currentUser.email),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      biography = _useState8[0],\n      setBiography = _useState8[1];\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerBackTitle: \"Edit Profile\"\n    });\n  }, [navigation]);\n\n  function checkNull(type, value) {\n    if (value != '') {\n      return value;\n    } else {\n      if (type == 'displayName') {\n        return auth.currentUser.displayName;\n      } else if (type == 'email') {\n        return auth.currentUser.email;\n      }\n    }\n  }\n\n  function update() {\n    auth.currentUser.updateProfile({\n      displayName: checkNull('displayName', name),\n      email: checkNull('email', email)\n    }).then(function () {\n      navigation.goBack();\n    }).catch(function (error) {\n      console.warn(error);\n    });\n    db.collection('users').doc(auth.currentUser.uid).update({\n      displayName: checkNull('displayName', name),\n      email: checkNull('email', email)\n    });\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    style: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    h3: true,\n    style: {\n      marginBottom: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Edit Profile\"), React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Update-Profile-Pic');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: auth.currentUser.photoURL\n    },\n    style: {\n      width: 120,\n      height: 90,\n      borderRadius: 37.5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 18\n    }\n  }, \"Change Profile Image\")), React.createElement(View, {\n    style: styles.inputContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, React.createElement(Input, {\n    placeholder: \"Full name\",\n    autoFocus: true,\n    type: \"text\",\n    value: name,\n    onChangeText: function onChangeText(text) {\n      return setName(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Email\",\n    type: \"text\",\n    value: email,\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Password\",\n    type: \"text\",\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Biography\",\n    type: \"text\",\n    value: biography,\n    onChangeText: function onChangeText(text) {\n      return setBiography(text);\n    },\n    onSubmitEditing: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), React.createElement(Button, {\n    style: styles.button,\n    raised: true,\n    title: \"Update\",\n    onPress: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 10,\n    backgroundColor: \"white\"\n  },\n  inputContainer: {\n    width: 300\n  },\n  button: {\n    width: 500,\n    marginTop: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/zmais/OneDrive/Desktop/react-apps/signal-chat/screens/Profile/EditProfile.js"],"names":["React","useState","useLayoutEffect","TouchableOpacity","StatusBar","Button","Input","Text","auth","db","Image","EditProfile","navigation","currentUser","displayName","name","setName","password","setPassword","email","setEmail","biography","setBiography","setOptions","headerBackTitle","checkNull","type","value","update","updateProfile","then","goBack","catch","error","console","warn","collection","doc","uid","styles","container","marginBottom","flex","alignItems","navigate","uri","photoURL","width","height","borderRadius","inputContainer","text","button","StyleSheet","create","justifyContent","padding","backgroundColor","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useLayoutEffect} from 'react'\r\nimport { View,  StyleSheet, KeyboardAvoidingView} from 'react-native'\r\nimport { TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { StatusBar } from 'expo-status-bar'\r\nimport { Button, Input, Text } from 'react-native-elements'\r\nimport { auth, db } from '../../services/firebase'\r\n\r\nimport { Image } from 'react-native-elements'\r\n\r\n\r\nexport default function EditProfile({ navigation }){\r\n\r\n    const [name, setName] = useState(auth.currentUser.displayName);\r\n    \r\n    const [password, setPassword] = useState('');\r\n\r\n    const [email, setEmail] = useState(auth.currentUser.email);\r\n\r\n    const [biography, setBiography] = useState('');\r\n\r\n\r\n    useLayoutEffect(() => {\r\n        navigation.setOptions({\r\n            headerBackTitle: \"Edit Profile\"\r\n        })\r\n    }, [navigation])\r\n\r\n    function checkNull(type, value){\r\n        if (value != ''){\r\n            return value\r\n        }\r\n        else {\r\n            if (type == 'displayName'){\r\n                return auth.currentUser.displayName\r\n            }\r\n            else if (type == 'email'){\r\n                return auth.currentUser.email\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    function update(){\r\n        auth.currentUser.updateProfile({\r\n            displayName: checkNull('displayName', name),\r\n            email: checkNull('email', email),\r\n          }).then(() => {\r\n            navigation.goBack()\r\n          }).catch((error) => {\r\n            console.warn(error)\r\n          });  \r\n\r\n        db.collection('users')\r\n        .doc(auth.currentUser.uid)\r\n        .update({\r\n            displayName: checkNull('displayName', name),\r\n            email: checkNull('email', email),\r\n        })\r\n\r\n        \r\n          \r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <KeyboardAvoidingView behavior=\"padding\" style={styles.container}>\r\n            <StatusBar style=\"light\" />\r\n            \r\n            <Text h3 style={{marginBottom: 50}}>\r\n            Edit Profile\r\n            </Text>\r\n\r\n            \r\n            <View\r\n                style={{ flex: 1, alignItems: 'center', }}>\r\n                <TouchableOpacity onPress={() => navigation.navigate('Update-Profile-Pic')}>\r\n                <Image source={{uri: auth.currentUser.photoURL}}\r\n                 style={{ width: 120, height: 90, borderRadius: 37.5 }} />\r\n\r\n                 </TouchableOpacity>\r\n                 <Text>Change Profile Image</Text>\r\n\r\n            </View>\r\n\r\n         \r\n\r\n            <View style={styles.inputContainer}>\r\n                <Input \r\n                    placeholder=\"Full name\"\r\n                    autoFocus\r\n                    type='text'\r\n                    value={name}\r\n                    onChangeText={text => setName(text)}\r\n                ></Input>\r\n\r\n                <Input \r\n                    placeholder=\"Email\"\r\n                    type='text'\r\n                    value={email}\r\n                    onChangeText={text => setEmail(text)}\r\n                ></Input>\r\n\r\n                \r\n\r\n                <Input \r\n                    placeholder=\"Password\"\r\n                    type='text'\r\n                    value={password}\r\n                    onChangeText={text => setPassword(text)}\r\n                ></Input>\r\n\r\n                \r\n\r\n                <Input \r\n                    placeholder=\"Biography\"\r\n                    type='text'\r\n                    value={biography}\r\n                    onChangeText={text => setBiography(text)}\r\n                    onSubmitEditing={update}\r\n                ></Input>\r\n\r\n\r\n\r\n            </View>\r\n\r\n            <Button\r\n                style={styles.button}\r\n                raised\r\n                title=\"Update\"\r\n                onPress={update}\r\n                \r\n            ></Button>\r\n        </KeyboardAvoidingView>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: 10,\r\n        backgroundColor: \"white\"\r\n    },\r\n    inputContainer: {\r\n        width: 300,\r\n    },\r\n    button: {\r\n        width: 500,\r\n        marginTop: 10,\r\n    },\r\n\r\n\r\n})\r\n"]},"metadata":{},"sourceType":"module"}